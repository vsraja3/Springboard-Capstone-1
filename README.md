# Springboard-Capstone-1

New York City is the most populous city in the United States and amongst the most diverse racially and economically and community distinctions with the city being divided into 5 boroughs with a total of 59 community districts spread amongst them. One of the natural challenges that large cities and urban areas in general have is managing waste and consumption in ways that are efficient and effective in being  sustainable yet practical. An example of a waste management standard that many New York residents find less than ideal is the disposal of garbage bags to be collected on streets due to the lack of alleys. This is an issue that is more or less inevitable as a result of the limited space and crowded urban layout of Manhattan island in particular. 

The NYC city government’s Department of Sanitation (DSNY) has been working continuously towards improving existing programs and practices as well as implementing new solutions to challenges faced across the city in waste management. While the issue of garbage being collected on the streets is one that is less likely to be resolved due to space limitations, one area that can always be improved is to promote existing recycling programs and find areas of improvement. The DSNY has been collecting data on recycling rates and producing reports throughout most of the last decade. While the data is useful in that it is broken down into recycling rates for each of the 59 community districts and through time (monthly from 2016 through 2019), there would be further room for analysis if additional data regarding the differences in makeup between the community district were available. Fortunately, the NYC Planning website provides a large amount of data on community district indicators including socio-economic and demographic data for each district. Using these two datasets, it should be possible to draw insights into determining what factors regarding the makeup of a community contribute to the success levels of recycling and waste management programs and build a model that could predict recycling potential with new data, perhaps even new communities and other cities.  

Data Wrangling

The first step in the process of developing a data science project involves data acquisition, which I began by exploring open data websites that allowed quick access to datasets to download. I began by searching using Data.gov as my primary source for identifying a dataset as it houses a variety of U.S. government data and seemed the most likely place to find the type of data I was seeking.

When initially searching for data related to recycling or other environmental impact and sustainability metrics, I stumbled upon the NYC Recycling Diversion and Capture Rates (hyperlink) dataset on Data.gov. While ideally I would have liked to gather data on a national level  or at least include other major cities, ultimately there was limited public data readily available from other areas. Moreover when taking into consideration the size and diversity of a city like New York, it is evident that the city provides a sufficient sample size and as good variability as possible to analyze the factors that could effect recycling rates. The dataset contained a breakdown of two metrics that the City of New York uses to measure the success of their recycling programs across the cities - recycling diversion rates (the fraction of amount of material recycled over the total waste collected) and capture rates (the fraction of material recycled against the total recyclable material in the waste stream). The data was recorded for every month from years 2016-2019, and broken down for each of New York City’s 59 community districts across their 5 boroughs. 

The DSNY recycling rates dataset presents a strong foundation for data science applications as it contained two metrics for recycling measurement along with variables including time in months of each year and a breakdown by community district. However, in order to tie in the hypothesis that a diverse population of people could potentially effect recycling rates differently based on differences between the proportion of subgroups based on factors like socio-economic status and race, additional data would be needed. Since the NYC recycling data was broken down primarily by community district on the initial dataset, I sought to find additional datasets that yield district level data and fortunately the NYC planning (hyperlink) website offers open access to datasets containing demographic, economic, social, and community indicators broken down by each of the city’s 59 community districts.

With both datasets being available in CSV format and having district level data separated by row with the variables including recycling rates and demographic percentages at the column level, the data wrangling process was more or less straightforward, albeit with a modest amount of cleaning and wrangling in order to produce a data frame that is easy to work with to start exploratory data analysis (EDA) and build and implement machine learning algorithms. 

I worked primarily with Jupyter Notebook and Pandas to construct the Data Wrangling report, which you can find in the repository here. There were several steps taken to clean up the two datasets and combine them that can be seen more specifically in the report. The first component which was simple enough was reading in the two CSV files using Pandas built in ‘read_csv’ function and storing them as Pandas data frame objects named as ‘recycling’ and ‘district’. 

The next steps involved cleaning up the missing data and removing any unnecessary data. Fortunately, the missing data was limited with only a handful of blank fields in columns that measured proportion (ex. percentage of Males in a community district). These values were assumed to be 0 percent based on the sum of the remainder of the fields summing to 100 percent, and as such, were simply replaced using ‘fillna’. There also were several columns in the community district dataset, which contained a total of 184 columns, that were either redundant or unnecessary based on the description of the metric in the data dictionary. Some of these included contact information for community district  board, websites and administrative information, as well as metrics pertaining to more than just a specific districts such as population of NYC or the borough a district is in. As such, a filtered data frame was created by selecting only the columns that could potentially be useful for exploratory data analysis.

The next component involved aggregating a few of the district indicators columns to find other categories for analysis. This included finding the total proportion of Male and Female of any age group since the raw data only included the proportion of each gender in each age group. 

Additionally, since the raw data included narrow age group breakdowns for each 5 years, this would likely be too narrow to draw conclusions from. To specify, rather than analyze the amount of residents between ages 5-10 in a particular districts, it would be more insightful to find the total proportion of minors or anyone under 20 since their behavior of each subgroup in that span is unlikely to be different. As such, I decided to add additional columns to break down the age group proportion into larger subgroups that represent potential generational differences for each 20 years with minors (under 20), young adults (20-39), middle aged (40-59), and seniors (60+) simply by taken the sum of each age group within.

After cleaning up the two data frames individually, the next step was to combine the two data frames by the common community district field (the column labeled ‘District’ in the recycling data frame and ‘cd_short_title’ in the districts data frame). This was done by creating a dictionary to map the district labels into standardized formats and then using a simple Pandas merge on the standardized district label.

With the combined data frame of recycling rates and district indicators created, the final component to the wrangling was to account for the fact that the recycling data was broken down into data for each month from years 2016 through 2019. While it would be ideal for the time periods of the recycling data and district data to line up, unfortunately the district level data was only recorded as a single measurement as an average estimate across the 5-year period of 2012-2016 as opposed the recycling data was recorded monthly through time. As such, I aggregated the monthly data into annual data while taking the mean of the recycling rates across months in a year and isolated the 2016 data frame since it aligns closet to the district level estimates. I additionally kept the annual and monthly data in two other data frames in order to at least explore a univariate analysis of rates changing over time. The ending result are three data frame with the average recycling rates broken down by year for each community district, which we can analyze over time in one instance and across the 2016 year against demographics in another. 

Data Story & Statistical Analysis

By examining the wrangled data, there are several questions that can be asked regarding the relationships between variables, differences between subgroups of data, and trends through time that can be answered through exploratory data analysis (EDA). These questions and the resulting analysis and visualizations can be examined in greater detail in the Data Story & Statistical Analysis Report (hyperlink).

One of the first questions that comes to mind is to answer whether recycling rates have been trending upwards or downwards through time in general. The expectation is that the rates would trend upward as a result of sustainability initiatives and general awareness leading to increased use of eco-friendly recyclable material, which we would expect to increase the diversion rate, and the increased education towards proper recycling practices leading to a higher capture rate. Using the monthly data available and plotting in a quick scatter plot, we can confirm that a slightly upward trend of both diversion and capture rates, albeit with some ups and downs. Taking a statistical approach and examining the Pearson correlation and p-value, the values suggest a weak positive correlation for both diversion and capture rates when compared against time in months across all districts. Moving forward, we similarly are able to take a look at the trends of time at a higher level by using a box plot which allows us to see the percentile distribution of data including the median and middle 50 percent of the rates. 

Observing the box plot distribution and overlaying a swarm plot on top allows us to see the exact points and observe any outliers. Based on the color coding of the swarm plot to indicate which NYC borough a point belongs to, we can see that data points from certain boroughs may pull the data upwards or downwards. This begs the question as to whether there are significant differences in the subgroups of data, namely New York City’s five boroughs. It can be reasoned that there would be a difference simply based on the fact that the boroughs are geographically different and likely to have a different distribution of residents as a result. Using an additional box plot overplayed with a swarm plot allows us to see that the median rates in each borough have distinct differences. 

This is further explored by viewing the percentage breakdown of residents by racial group and age group within each borough, which highlights some high level insights such as the higher proportions of white New Yorkers in Manhattan and Staten Island, two of the zones which had higher median recycling rates. This leaves with us to explore further the relationships between race and recycling, which we will get too shortly.

The pie charts which display the age breakdowns of the 4 broader generational groups are less conclusive as they imply more or less even splits across the boroughs. Since the  broader age groups can not tell us as much, we are still left with the question as to if there is are certain age groups that recycle more, for which we can use the original data which included narrow age breakdowns in 5 year increments. By computing the Pearson correlation of each age group against the diversion and capture rate and using a simple bar graph to visualize this, we see that around age 25 and over there is a mostly steady positive correlation to the rates potentially implying a tendency towards better recycling ability habits in people over a certain age. 
